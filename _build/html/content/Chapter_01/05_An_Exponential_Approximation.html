

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>1.5. An Exponential Approximation &#8212; Prob 140 Textbook</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/headers.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/jupyter-sphinx.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/sphinx-book-theme.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/mystnb.js"></script>
    <script src="../../_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="1.6. Exercises" href="06_Exercises.html" />
    <link rel="prev" title="1.4. The Birthday Problem" href="04_Birthday_Problem.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../index.html">
  
  <img src="../../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Prob 140 Textbook</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <p class="caption">
 <span class="caption-text">
  Introduction
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference external" href="http://prob140.org">
   Course Home
   <i class="fas fa-external-link-alt">
   </i>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../To_the_Student.html">
   To the  Student
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Chapters
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1 current active">
  <a class="reference internal" href="00_Fundamentals.html">
   1. Fundamentals
  </a>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="01_Outcome_Space_and_Events.html">
     1.1. Outcome Space and Events
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="02_Equally_Likely_Outcomes.html">
     1.2. Equally Likely Outcomes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03_Collisions_in_Hashing.html">
     1.3. Collisions in Hashing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04_Birthday_Problem.html">
     1.4. The Birthday Problem
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     1.5. An Exponential Approximation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="06_Exercises.html">
     1.6. Exercises
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_02/00_Calculating_Chances.html">
   2. Calculating Chances
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_03/00_Random_Variables.html">
   3. Random Variables
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_04/00_Relations_Between_Variables.html">
   4. Relations Between Variables
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_05/00_Collections_of_Events.html">
   5. Collections of Events
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_06/00_Random_Counts.html">
   6. Random Counts
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_07/00_Poissonization.html">
   7. Poissonization
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_08/00_Expectation.html">
   8. Expectation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_09/00_Conditioning_Revisited.html">
   9. Conditioning, Revisited
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_10/00_Markov_Chains.html">
   10. Markov Chains
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_11/00_Reversing_Markov_Chains.html">
   11. Reversing Markov Chains
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_12/00_Standard_Deviation.html">
   12. Standard Deviation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_13/00_Variance_Via_Covariance.html">
   13. Variance Via Covariance
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_14/00_The_Central_Limit_Theorem.html">
   14. The Central Limit Theorem
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_15/00_Continuous_Distributions.html">
   15. Continuous Distributions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_16/00_Transformations.html">
   16. Transformations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_17/00_Joint_Densities.html">
   17. Joint Densities
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_18/00_The_Normal_and_Gamma_Families.html">
   18. The Normal and Gamma Families
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_19/00_Distributions_of_Sums.html">
   19. Distributions of Sums
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_20/00_Approaches_to_Estimation.html">
   20. Approaches to Estimation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_21/00_The_Beta_and_the_Binomial.html">
   21. The Beta and the Binomial
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_22/00_Prediction.html">
   22. Prediction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_23/00_Multivariate_Normal_RVs.html">
   23. Jointly Normal Random Variables
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_24/00_Simple_Linear_Regression.html">
   24. Simple Linear Regression
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Chapter_25/00_Multiple_Regression.html">
   25. Multiple Regression
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/content/Chapter_01/05_An_Exponential_Approximation.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        
        <a class="jupyterhub-button" href="https://prob140.datahub.berkeley.edu/hub/user-redirect/git-pull?repo=https://github.com/prob140/textbook&urlpath=tree/textbook/content/Chapter_01/05_An_Exponential_Approximation.ipynb&branch=gh-pages"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch JupyterHub" data-toggle="tooltip"
                data-placement="left"><img class="jupyterhub-button-logo"
                    src="../../_static/images/logo_jupyterhub.svg"
                    alt="Interact on JupyterHub">JupyterHub</button></a>
        
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> On this page
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#step-1-only-approximate-terms-that-need-approximation">
   1.5.1. Step 1: Only Approximate Terms that Need Approximation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#step-2-use-log-to-convert-products-to-sums">
   1.5.2. Step 2: Use
   <span class="math notranslate nohighlight">
    \(\log\)
   </span>
   to Convert Products to Sums
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#step-3-use-properties-of-log">
   1.5.3. Step 3: Use Properties of
   <span class="math notranslate nohighlight">
    \(\log\)
   </span>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#step-4-invert-as-needed-to-complete-the-approximation">
   1.5.4. Step 4: Invert as Needed to Complete the Approximation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-good-is-the-approximation">
   1.5.5. How Good is the Approximation?
  </a>
 </li>
</ul>

        </nav>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="an-exponential-approximation">
<h1><span class="section-number">1.5. </span>An Exponential Approximation<a class="headerlink" href="#an-exponential-approximation" title="Permalink to this headline">¶</a></h1>
<p>The goal of this section is to understand how the chance of at least one collision behaves as a function of the number of individuals <span class="math notranslate nohighlight">\(n\)</span>, when there are <span class="math notranslate nohighlight">\(N\)</span> hash values and <span class="math notranslate nohighlight">\(N\)</span> is large compared to <span class="math notranslate nohighlight">\(n\)</span>.</p>
<p>We know that chance is</p>
<div class="math notranslate nohighlight">
\[
P(\text{at least one collision}) ~=~ 1 ~-~ \prod_{i=0}^{n-1} \frac{N-i}{N}
\]</div>
<p>While this gives an exact formula for the chance, it doesn’t give us a sense of how the function grows. Let’s see if we can develop an approximation that has a simpler form and is therefore easier to study.</p>
<p>The main steps in the approximation will be used repeatedly in this course, so we will set them out in some detail here.</p>
<div class="cell tag_remove-input tag_hide-output docutils container">
</div>
<div class="section" id="step-1-only-approximate-terms-that-need-approximation">
<h2><span class="section-number">1.5.1. </span>Step 1: Only Approximate Terms that Need Approximation<a class="headerlink" href="#step-1-only-approximate-terms-that-need-approximation" title="Permalink to this headline">¶</a></h2>
<p>While this might seem obvious, it’s worth noting as it can save a lot of unnecessary fiddling. We are trying to approximate</p>
<div class="math notranslate nohighlight">
\[
1 ~-~ \prod_{i=0}^{n-1} \frac{N-i}{N}
\]</div>
<p>so all we need to approximate is</p>
<div class="math notranslate nohighlight">
\[
\prod_{i=0}^{n-1} \frac{N-i}{N}
\]</div>
<p>We can subtract the approximation from 1 at the end.</p>
<p>In other words, we’ll approximate <span class="math notranslate nohighlight">\(P(\text{no collision})\)</span> instead.</p>
</div>
<div class="section" id="step-2-use-log-to-convert-products-to-sums">
<h2><span class="section-number">1.5.2. </span>Step 2: Use <span class="math notranslate nohighlight">\(\log\)</span> to Convert Products to Sums<a class="headerlink" href="#step-2-use-log-to-convert-products-to-sums" title="Permalink to this headline">¶</a></h2>
<p>Our formula is a product, but we are much better at working with sums. The <code class="docutils literal notranslate"><span class="pre">log</span></code> function helps us turn the product into a sum:</p>
<div class="math notranslate nohighlight">
\[
\log (P(\text{no collision})) ~=~ \sum_{i=0}^{n-1} \log(\frac{N-i}{N})
\]</div>
<p>Once we have an approximation to <span class="math notranslate nohighlight">\(\log (P(\text{no collision}))\)</span>, we can use exponentiation to convert it to an approximation for what we want, which is <span class="math notranslate nohighlight">\(P(\text{no collision})\)</span>.</p>
</div>
<div class="section" id="step-3-use-properties-of-log">
<h2><span class="section-number">1.5.3. </span>Step 3: Use Properties of <span class="math notranslate nohighlight">\(\log\)</span><a class="headerlink" href="#step-3-use-properties-of-log" title="Permalink to this headline">¶</a></h2>
<p>This is usually the step where the main calculation happens. Remember that <span class="math notranslate nohighlight">\(\log(1+x) \sim x\)</span> for small <span class="math notranslate nohighlight">\(x\)</span>, where the symbol <span class="math notranslate nohighlight">\(\sim\)</span> here means that the ratio of the two sides goes to 1 as <span class="math notranslate nohighlight">\(x\)</span> goes to 0. The approximation might not be great for larger <span class="math notranslate nohighlight">\(x\)</span> but let’s try it out anyway.</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
\log(P(\text{no collision})) ~ &amp;=~ \sum_{i=0}^{n-1} \log(\frac{N-i}{N}) \\
&amp;=~ \sum_{i=0}^{n-1} \log(1 - \frac{i}{N}) \\
&amp;\sim ~ \sum_{i=0}^{n-1} (- \frac{i}{N}) \\
&amp;=~ -\frac{1}{N} \sum_{i=0}^{n-1} i \\ \\
&amp;= - \frac{1}{N} \cdot \frac{(n-1)n}{2}
\end{align*}
\end{split}\]</div>
<p>by the formula for the sum of the first <span class="math notranslate nohighlight">\(n-1\)</span> positive integers.</p>
</div>
<div class="section" id="step-4-invert-as-needed-to-complete-the-approximation">
<h2><span class="section-number">1.5.4. </span>Step 4: Invert as Needed to Complete the Approximation<a class="headerlink" href="#step-4-invert-as-needed-to-complete-the-approximation" title="Permalink to this headline">¶</a></h2>
<p>The hard work has been done, and now we just have to clean things up. Step 3 gave us</p>
<div class="math notranslate nohighlight">
\[
\log(P(\text{no collision})) ~\sim ~ - \frac{1}{N} \cdot \frac{(n-1)n}{2}
\]</div>
<p>and so by exponentiation on both sides we get</p>
<div class="math notranslate nohighlight">
\[
P(\text{no collision}) ~\sim ~ 
e^{- (n-1)n/2N } ~ \sim ~ e^{-n^2/2N}
\]</div>
<p>Finally,</p>
<div class="math notranslate nohighlight">
\[
P(\text{at least one collision}) ~\sim ~ 1 - e^{- (n-1)n/2N }
~ \sim ~ 1 - e^{-n^2/2N}
\]</div>
<p>Now you can see why the <span class="math notranslate nohighlight">\(P(\text{at least one collision})\)</span> rises sharply as a function of the number of people. Remember that <span class="math notranslate nohighlight">\(N\)</span> is fixed and <span class="math notranslate nohighlight">\(n\)</span> varies between 1 and <span class="math notranslate nohighlight">\(N\)</span>. As <span class="math notranslate nohighlight">\(n\)</span> increases, <span class="math notranslate nohighlight">\((n-1)n\)</span> increases fast, essentially like <span class="math notranslate nohighlight">\(n^2\)</span>. So <span class="math notranslate nohighlight">\(-n^2/2N\)</span> decreases fast, which makes <span class="math notranslate nohighlight">\(e^{-n^2/2N}\)</span> drop sharply; and that makes <span class="math notranslate nohighlight">\(1 - e^{-n^2/2N}\)</span> shoot up.</p>
<p>It’s worth noting that the main approxmation is in the middle of Step 3, where we use <span class="math notranslate nohighlight">\(\log(1+x) \sim x\)</span> for small <span class="math notranslate nohighlight">\(x\)</span>. We will encounter this approximation several times in the course.</p>
</div>
<div class="section" id="how-good-is-the-approximation">
<h2><span class="section-number">1.5.5. </span>How Good is the Approximation?<a class="headerlink" href="#how-good-is-the-approximation" title="Permalink to this headline">¶</a></h2>
<p>To see how the exponential approximation compares with the exact probabilities, let’s work in the context of birthdays. You can change <span class="math notranslate nohighlight">\(N\)</span> in the code if you prefer a different setting.</p>
<p>To review the entire sequence of steps, we will redo our exact calculations and augment them with a column of approximations. We’ll use the slightly more careful approximation of the two above.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># All of this code is from the previous section.</span>

<span class="n">N</span> <span class="o">=</span> <span class="mi">365</span> 

<span class="k">def</span> <span class="nf">p_no_match</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">individuals_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">prod</span><span class="p">((</span><span class="n">N</span> <span class="o">-</span> <span class="n">individuals_array</span><span class="p">)</span><span class="o">/</span><span class="n">N</span><span class="p">)</span>

<span class="n">trials</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">N</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">Table</span><span class="p">()</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="s1">&#39;Trials&#39;</span><span class="p">,</span> <span class="n">trials</span><span class="p">)</span>
<span class="n">different</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">p_no_match</span><span class="p">,</span> <span class="s1">&#39;Trials&#39;</span><span class="p">)</span>

<span class="c1"># Only the Exponential Approximation column is new</span>

<span class="n">results</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
    <span class="s1">&#39;P(at least one match)&#39;</span><span class="p">,</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">different</span><span class="p">,</span>
    <span class="s1">&#39;Exponential Approximation&#39;</span><span class="p">,</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">e</span><span class="o">**</span><span class="p">(</span> <span class="o">-</span><span class="p">(</span><span class="n">trials</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">trials</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">N</span><span class="p">)</span> <span class="p">)</span>
<span class="p">)</span>

<span class="n">results</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table border="1" class="dataframe">
    <thead>
        <tr>
            <th>Trials</th> <th>P(at least one match)</th> <th>Exponential Approximation</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>1     </td> <td>0                    </td> <td>0                        </td>
        </tr>
        <tr>
            <td>2     </td> <td>0.00273973           </td> <td>0.00273598               </td>
        </tr>
        <tr>
            <td>3     </td> <td>0.00820417           </td> <td>0.00818549               </td>
        </tr>
        <tr>
            <td>4     </td> <td>0.0163559            </td> <td>0.016304                 </td>
        </tr>
        <tr>
            <td>5     </td> <td>0.0271356            </td> <td>0.0270254                </td>
        </tr>
        <tr>
            <td>6     </td> <td>0.0404625            </td> <td>0.0402629                </td>
        </tr>
        <tr>
            <td>7     </td> <td>0.0562357            </td> <td>0.0559104                </td>
        </tr>
        <tr>
            <td>8     </td> <td>0.0743353            </td> <td>0.0738438                </td>
        </tr>
        <tr>
            <td>9     </td> <td>0.0946238            </td> <td>0.0939222                </td>
        </tr>
        <tr>
            <td>10    </td> <td>0.116948             </td> <td>0.115991                 </td>
        </tr>
    </tbody>
</table>
<p>... (355 rows omitted)</p></div></div>
</div>
<p>The first 10 approximations look pretty good. Let’s take a look at some more.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">results</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="s1">&#39;Trials&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">N</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/05_An_Exponential_Approximation_15_0.png" src="../../_images/05_An_Exponential_Approximation_15_0.png" />
</div>
</div>
<p>On the scale of this graph, the blue dots (the exact values) are almost indistinguishable from the gold (our exponential approximation). You can run the code again with the less careful approximation that replaces <span class="math notranslate nohighlight">\((n-1)n\)</span> by <span class="math notranslate nohighlight">\(n^2\)</span> and see that the approximation is still excellent.</p>
<p>What we learn from the second form of the approximation is that the chance that there is at least one collision among the <span class="math notranslate nohighlight">\(n\)</span> assigned values is essentially <span class="math notranslate nohighlight">\(1 - e^{-cn^2}\)</span> where <span class="math notranslate nohighlight">\(c\)</span> is a positive constant.</p>
<p>We will encounter the function <span class="math notranslate nohighlight">\(1 - e^{-cx^2}\)</span> again when we study the <em>Rayleigh distribution</em> later in the course.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./content/Chapter_01"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="04_Birthday_Problem.html" title="previous page"><span class="section-number">1.4. </span>The Birthday Problem</a>
    <a class='right-next' id="next-link" href="06_Exercises.html" title="next page"><span class="section-number">1.6. </span>Exercises</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Ani Adhikari<br/>
        
            &copy; Copyright 2020.<br/>
          <div class="extra_footer">
            <p>
License: CC BY-NC-ND 4.0
</p>

          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../../_static/js/index.js"></script>
    
  </body>
</html>